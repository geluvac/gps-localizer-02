<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no;" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title>PhoneGap WP7</title>
    <link rel="stylesheet" href="master.css" type="text/css" media="screen" title="no title"
        charset="utf-8" />
    <script type="text/javascript">
        // provide our own console if it does not exist, huge dev aid!
        if (typeof window.console == "undefined") {
            window.console = { log: function (str) { window.external.Notify(str); } };
        }

        // output any errors to console log, created above.
        window.onerror = function (e) {
            console.log("window.onerror ::" + JSON.stringify(e));
        };

        console.log("Installed console ! ");
    </script>
    <script type="text/javascript" charset="utf-8" src="phonegap-1.1.0.js"></script>
    <script type="text/javascript" charset="utf-8">
        // Wait for Cordova to load
        //
        document.addEventListener("deviceready", onDeviceReady, false);
        // Cordova is ready    
        //    
        function onDeviceReady() {
            navigator.geolocation.getCurrentPosition(onSuccess, onError);
        }
        // onSuccess Geolocation    
        //    
        function onSuccess(position) {
            var element = document.getElementById('geolocation');
            element.innerHTML = 'Latitude: ' + position.coords.latitude + '<br />'
                + 'Longitude: ' + position.coords.longitude + '<br />'
                + 'Altitude: ' + position.coords.altitude + '<br />'
                + 'Accuracy: ' + position.coords.accuracy + '<br />'
                + 'Altitude Accuracy: ' + position.coords.altitudeAccuracy + '<br />'
                + 'Heading: ' + position.coords.heading + '<br />'
                + 'Speed: ' + position.coords.speed + '<br />' 
                + 'Timestamp: ' + position.timestamp + '<br />';
        }
        // onError Callback receives a PositionError object    
        //    
        function onError(error) {
            alert('code: ' + error.code + '\n' + 'message: ' + error.message + '\n');
        }    
    </script>
</head>
<body>
    <h1>
        Geo localizer</h1>
    <p id="geolocation">Finding geolocation...</p>
</body>
</html>
